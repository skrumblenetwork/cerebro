(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(t){t.exports={web3API:"ws://ubuntu@ec2-34-221-132-68.us-west-2.compute.amazonaws.com:8546"}},130:function(t,e,a){t.exports=a(325)},135:function(t,e,a){},172:function(t,e){},174:function(t,e){},199:function(t,e){},216:function(t,e){},218:function(t,e){},249:function(t,e){},323:function(t,e,a){},325:function(t,e,a){"use strict";a.r(e);var n,i=a(0),s=a.n(i),o=a(126),r=a.n(o),c=(a(135),a(14)),l=a(15),h=a(46),m=a(45),u=a(47),g=a(63),f=a.n(g),d=a(127),p=function(){function t(e,a,n,i){Object(c.a)(this,t),this.offset=n,this.group=e.append("g").attr("transform","translate(".concat(a[0][0]-this.offset,", ").concat(a[0][1],")rotate(270)")).attr("opacity",1),this.label=this.group.append("text").attr("transform","translate(20, -5)").text(""),this.img=this.group.append("svg:image").attr("xlink:href","/images/Rocket Ship.svg").attr("width",50),this.animationSpeed=5e3,i&&(this.animationSpeed=this.animationSpeed*((100-i)/100))}return Object(l.a)(t,[{key:"startTransition",value:function(t,e,a){var n=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5?arguments[5]:void 0;this.group.transition().ease(o||t.easeBackIn).attr("transform","translate(".concat(a[1][0]-this.offset,", ").concat(a[1][1],") rotate(270)")).duration(s||this.animationSpeed).on("end",function(){i||(n.group.transition().attr("opacity",0).duration(1500),setTimeout(function(){n.group.remove()},2e3))})}},{key:"g",get:function(){return this.group}},{key:"l",get:function(){return this.label}}]),t}(),v=function(){function t(e,a,n,i,s,o,r,l,h,m){Object(c.a)(this,t),this.transacton=a.append("circle").attr("class","transactionNode").attr("r",0).attr("cx",o).attr("cy",r).attr("fill","rgba(".concat(m[0],", ").concat(m[1],", ").concat(m[2],", ").concat(m[3],")")).attr("opacity",1).on("mouseover",function(t){e.select(this).transition().duration(200).attr("r",Math.max(1.5*l,6)).attr("fill","rgba(".concat(Math.min(m[0]+10,255),", ").concat(Math.min(m[1]+10,255),", ").concat(Math.min(m[2]+10,255),", ").concat(Math.min(m[3]+.3,1),")")),n.transition().duration(200).style("opacity",.9),n.html(h+" ETH").style("left",e.event.pageX+"px").style("top",e.event.pageY-28+"px")}).on("mouseout",function(t){e.select(this).transition().duration(200).attr("r",l).attr("fill","rgba(".concat(m[0],", ").concat(m[1],", ").concat(m[2],", ").concat(m[3],")")),n.transition().duration(500).style("opacity",0)}),this.transacton.transition().duration(750).attr("r",l).attr("opacity",1)}return Object(l.a)(t,[{key:"element",get:function(){return this.transacton}}]),t}(),b=a(18),k=a(128),y=a.n(k),w=a(129),E=function(){function t(e,a,n,i,s){Object(c.a)(this,t),this.d3=b,this.web3=new y.a(w.web3API),this.width=e,this.height=a,this.data={nodes:[],links:[]},this.config={margin:{top:0,right:0,bottom:0,left:0},nodeRadius:15,maxTransactionsOnScreen:500,maxBlocksOnScreen:20,points:[[e/2,a-85],[e/2,0]],startPoints:[[e/2,a+100],[e/2,a-85]],blockOffset:20},this.transactions={},this.blocks=[],this.tpsCounter=0,this.lastTpsCheck=Date.now(),this.svg=b.select(n).attr("width",e+this.config.margin.left+this.config.margin.right).attr("height",a+this.config.margin.top+this.config.margin.bottom).append("g").attr("transform","translate(".concat(this.config.margin.left,",").concat(this.config.margin.top,")")),this.shipsvg=b.select(s).attr("width",s.clientWidth).attr("height",s.clientHeight).append("g"),this.path=this.svg.append("path").data([this.config.points]).attr("d",b.line().curve(b.curveBundle.beta(1))).attr("class","invisible"),this.shipStartPath=this.shipsvg.append("path").data([this.config.startPoints]).attr("d",b.line().curve(b.curveBundle.beta(1))).attr("class","invisible")}return Object(l.a)(t,[{key:"setMaxTransactions",value:function(t){this.config.maxTransactionsOnScreen=t}},{key:"adjustedWidth",get:function(){return this.width-this.config.margin.left-this.config.margin.right}},{key:"adjustedHeight",get:function(){return this.height-this.config.margin.top-this.config.margin.bottom}}]),t}();function x(t,e){return Math.random()*(e-t)+t}function N(t){var e,a=2*t.getTotalLength();return function(n,i,s){return function(n){e=n*a;var i=t.getPointAtLength(e),s=t.getPointAtLength(e+1),o=180*Math.atan2(s.y-i.y,s.x-i.x)/Math.PI;return s.y-i.y===0&&s.x-i.x===0&&(o=270),"translate("+(i.x-10)+","+i.y+")rotate("+o+")"}}}var S=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(h.a)(this,Object(m.a)(e).call(this,t))).onTransactionsVisibleChange=function(t){a.setState({transactionsVisible:t.target.value}),n.setMaxTransactions(t.target.value)},a.onAnimationSpeedChange=function(t){a.setState({animationSpeed:t.target.value})},a.state={tps:0,blockSpeed:"---",currentBlock:"---",animationSpeed:50,transactionsVisible:500,minimumTransactionsVisible:0,maximumTransactionsVisible:1e4,blockStatus:"Preparing for take off"},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=Object(d.a)(f.a.mark(function t(){var e,a,i,s,o,r,c,l,h,m,u,g,d,b,k,y,w,S,T;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:T=function(t){if(t&&t.value&&c){var i=x(0,o),s=x(0,r),l=parseInt(t.value)/1e18,m=Math.max(3,Math.min(l,50)),f=[x(0,255),x(0,255),x(0,255),Math.max(x(0,1),.3)],d=new v(a,c,S,o,r,i,s,m,l,f);h[t.hash]={transaction:t,element:d.element,x:i,y:s,r:m,rgba:f,id:t.hash},u++,Date.now()-g>1e3&&(e.setState({tps:u}),g=Date.now(),u=0);var p=Object.keys(h);if(p.length>n.config.maxTransactionsOnScreen){for(var b=0;b<p.length-1&&h[p[b]].onBlock;)b++;h[p[b]].element.remove(),delete h[p[b]]}}},w=function(t){var r=new p(l,s,n.config.blockOffset,e.state.animationSpeed);if(b=0,e.setState({currentBlock:t.number}),m.push({block:t,element:r.g}),d.push(t.timestamp),d.length>1){for(var c=1;c<d.length-1;c++)b+=d[c]-d[c-1];e.setState({blockSpeed:"".concat(Math.round(b/d.length*100)/100,"s")})}r.g.each(function(){var t=this.parentNode.firstChild;t&&this.parentNode.insertBefore(this,t)}),n.web3.eth.getBlock(t.number).then(function(t){t.transactions.forEach(function(t){if(h[t]){h[t].onBlock=!0,h[t].element.attr("class","blockNode");var e=x(-90,-60),a=x(0,20);h[t].element.transition().attr("cx",o/2+5).attr("cy",-5).attr("r",3).duration(2e3).on("end",function(){h[t]&&(h[t].element.attr("cx",e).attr("cy",a),h[t].element.remove())})}}),setTimeout(function(){k&&k.g&&k.g.remove(),r.startTransition(a,N,s),e.refs.blockstatus.style.color="rgba(255, 255, 255, 0)",setTimeout(function(){e.setState({blockStatus:"LIFT OFF!"}),e.refs.blockstatus.style.width="52px",e.refs.blockstatus.style.color="rgba(255, 255, 255, 255)"},550),setTimeout(y,2250)},2250)}),m.length>i&&m.shift().element.remove()},y=function(){k&&k.g&&k.g.remove(),e.refs.blockstatus.style.color="rgba(255, 255, 255, 0)",e.refs.blockstatus.style.width="153px",setTimeout(function(){e.setState({blockStatus:"Preparing for take off"}),e.refs.blockstatus.style.color="rgba(255, 255, 255, 255)"},550),(k=new p(l,n.config.startPoints,n.config.blockOffset)).startTransition(a,N,n.config.startPoints,!0,2e3,a.easeBounceOut)},n=new E(this.refs.shipsvg.clientWidth,this.refs.shipsvg.clientHeight,this.refs.svg,this.refs.canvas,this.refs.shipsvg),e=this,a=n.d3,i=n.config.maxBlocksOnScreen,s=n.config.points,o=n.adjustedWidth,r=n.adjustedHeight,c=n.svg,l=n.shipsvg,h=n.transactions,m=n.blocks,u=n.tpsCounter,g=n.lastTpsCheck,this.refs.canvas.width=n.width,this.refs.canvas.height=n.height,n.web3.eth.subscribe("pendingTransactions",function(t,e){n.web3.eth.getTransaction(e).then(function(t){T(t)})}),n.web3.eth.subscribe("newBlockHeaders",function(t,e){t||w(e)}),d=[],b=0,y(),S=a.select("body").append("div").attr("class","tooltip").style("opacity",0);case 24:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{className:"all-content"},s.a.createElement("div",{className:"banner"},s.a.createElement("div",{className:"logo-container"},s.a.createElement("div",{className:"logo"})),s.a.createElement("div",{className:"details"},s.a.createElement("div",{className:"stats"},s.a.createElement("div",{className:"group"},s.a.createElement("div",{className:"label"},"Block Time"),s.a.createElement("div",{className:"data"},this.state.blockSpeed)),s.a.createElement("div",{className:"group"},s.a.createElement("div",{className:"label"},"TPS"),s.a.createElement("div",{className:"data"},this.state.tps)),s.a.createElement("div",{className:"group"},s.a.createElement("div",{className:"label"},"Current Block"),s.a.createElement("div",{className:"data"},this.state.currentBlock))),s.a.createElement("div",{className:"settings"},s.a.createElement("div",{className:"group"},s.a.createElement("div",{className:"label"},"Animation Speed"),s.a.createElement("div",null,s.a.createElement("input",{type:"range",min:0,max:100,onChange:this.onAnimationSpeedChange,value:this.state.animationSpeed}),s.a.createElement("input",{type:"number",className:"number-input",min:1,max:100,onChange:this.onAnimationSpeedChange,value:this.state.animationSpeed}))),s.a.createElement("div",{className:"group"},s.a.createElement("div",{className:"label"},"Transactions Visible"),s.a.createElement("div",null,s.a.createElement("input",{type:"range",min:this.state.minimumTransactionsVisible,max:this.state.maximumTransactionsVisible,onChange:this.onTransactionsVisibleChange,value:this.state.transactionsVisible}),s.a.createElement("input",{type:"number",className:"number-input",min:this.state.minimumTransactionsVisible,max:this.state.maximumTransactionsVisible,onChange:this.onTransactionsVisibleChange,value:this.state.transactionsVisible})))))),s.a.createElement("div",{className:"main-content"},s.a.createElement("div",{className:"background"},s.a.createElement("div",{className:"stars"})),s.a.createElement("svg",{className:"shipsvg",ref:"shipsvg"}),s.a.createElement("div",{className:"transaction-container"},s.a.createElement("div",{className:"block-status",ref:"blockstatus"},this.state.blockStatus),s.a.createElement("svg",{className:"svg",ref:"svg",width:"100%",height:"100%"})),s.a.createElement("canvas",{className:"canvas",ref:"canvas"}),s.a.createElement("img",{src:"/images/cat.png",alt:"cat",ref:"cat",width:"10px",style:{display:"none"}}),s.a.createElement("video",{autoPlay:!0,loop:!0,ref:"video",style:{display:"none"}},s.a.createElement("source",{src:"https://i.imgur.com/no3t9ib.webm",type:"video/webm"})),s.a.createElement("footer",{className:"footer"},"Skrumble Network \xa9 2018")))}}]),e}(i.Component),T=(a(323),function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(S,null))}}]),e}(i.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[130,2,1]]]);
//# sourceMappingURL=main.e2d3600a.chunk.js.map